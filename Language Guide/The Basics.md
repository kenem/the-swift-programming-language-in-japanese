[原文](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html)

# Swiftの基本

Swift は iOS、macOS、watchOS、tvOS のアプリ開発用に生み出された新しい言語です。新しいながらも、C や Objective-C の開発経験を持つ読者には、これらの言語と多くの共通点があることに気付くでしょう。

C、Objective-C の全ての基礎的な型は Swift にも存在します。Int (整数)、Double/Float (浮動小数点数)、Bool (ブール値)、String (文字列) がこれに含まれます。さらに、Array (配列)、Set (集合)、Dictionary (辞書配列) の3つの高機能なコレクション型を提供します。

C 同様、Swift では、値を保管したり、名前で参照するために変数を使います。また、Swiftでは、定数という、固定値の変数をよく使用します。Swift の定数は C のものよりずっと高機能で、定数を使うことによって、コードの安全性を高めたり、意図を明確にできるというメリットがあります。

これらのお馴染みの型以外に、Swift は Objective-C にはない先進的な型を導入しました。このひとつが Tuple (タプル) です。Tuple を使うと、複数の値をひとつのグループとして扱うことができます。Tuple を使えば、関数の返り値として複数の値を返すことも可能です。

Swiftでは新たに、値の不在を表す「オプショナル型」という概念が導入されました。オプショナル型の状態は、1.「値が存在し、Xである」か、2.「値が存在しない」のどちらかです。オプショナル型は Objective-C の nil ポインタに似ていますが、クラス以外の型にも使えるという違いがあります。オプショナル型は nil ポインタより安全性と表現力の面で優れ、Swift の数々の機能と密接に関わっています。

Swiftは型安全なため、プログラムにおける値の意図をより明確にできます。例えば、String 型に誤って Int を代入したり、オプショナル String 型に非オプショナルな String を代入するといったことが防げます。型安全性は、開発プロセスのより初期でエラーを見つけ、対処することを可能にします。

## 定数と変数

定数と変数は、名前（例：maximumNumberOfLoginAttemptsやwelcomeMessage）を特定の型の値（数値10や文字列"Hello"など）に関連付けまます。定数の値は一度設定すると変更できませんが、変数は後で異なる値に設定できます。

### 定数と変数を宣言する

定数と変数は、使用する前に宣言する必要があります。定数は let キーワードで宣言し、変数は var キーワードで宣言します。 例として、定数と変数を使用して、ユーザーが行ったログインの試行回数を追跡するコードを見てみます。

```
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
```

このコードは次のように読むことができます。

「maximumNumberOfLoginAttempts と呼ばれる新しい定数を宣言し、それに 10 の値を与えます。次に、currentLoginAttempt と呼ばれる新しい変数を宣言し、それに初期値 0 を与えます。」

許可されるログイン試行の最大数は変わらないため、定数として宣言しています。 現在のログイン試行カウンターは変数として宣言されます。この値は、ログイン試行が失敗するたびに増分される必要があるためです。

複数の定数または複数の変数をカンマで区切って1行で宣言することもできます。

```
var x = 0.0, y = 0.0, z = 0.0
```

> ポイント
>
> 値を変更しない場合は、必ず let キーワードを使用して定数として宣言します。 変数は、変更する必要がある値にのみ使用します。

### 型注釈

定数または変数を宣言するときに型注釈を指定して、格納できる値の種類を明確にすることができます。定数または変数名の後にコロン、スペース、使用する型の名前の順に続けて、型注釈を記述します。

以下の例では、変数が文字列値を格納できることを示すために、welcomeMessage という変数の型注釈を記述しています。

```
var welcomeMessage: String
```

宣言のコロンは「…の型」を意味するため、上記のコードは次のように読み取ることができます。

「文字列型のwelcomeMessageという変数を宣言します。」

「文字列型」とは、「任意の文字列値を格納できる」という意味です。 保存できる「モノの種類」と考えてください。

welcomeMessage 変数は、任意の文字列値に設定できるようになりました。

```
welcomeMessage = "Hello"
```

同じ型の複数の変数を、最後の変数名の後に単一の型注釈を付けて、カンマで区切って1行で宣言することができます。

```
var red, green, blue: Double
```

> ポイント
>
> 実際に型注釈を記述する必要があることはまれです。[型の安全性と型推論]() の項で説明するように、定数または変数の宣言時に初期値を指定すると、Swift はほとんどの場合、その定数または変数に使用される型を推測できます。 上記の welcomeMessage の例では、初期値が提供されていないため、welcomeMessage 変数の型は、初期値から推測されるのではなく、型注釈で指定されます。

### 定数と変数の命名

定数と変数の名前には、Unicode 文字を含むほとんどすべての文字を含めることができます。

```
let π = 3.14159
let 你好 = "你好世界"
let 🐶🐮 = "dogcow"
```

含めることができない文字は、空白文字、数学記号、矢印、私用領域の Unicode スカラ値、罫線文字です。数字は名前の先頭に使用することができませんが、2文字目以降に含めることは可能です。

一度定数または変数を宣言すると、同じ名前で再度宣言したり、別の型に変更することはできません。また、定数を変数に、または変数を定数に変更することもできません。

> ポイント
>
> 定数または変数に Swift 言語で予約済みのキーワードと同じ名前を付ける場合は、定数または変数名をバッククォート（`）で囲みます。ただし、どうしても選択の余地がない場合を除き、予約語を名前として使用しないでください。

既存の変数の値を互換性のある型の別の値に変更できます。次の例では、friendlyWelcome の値を「Hello!」から「Bonjour!」に変更します。

```
var friendlyWelcome = "Hello!"
friendlyWelcome = "こんにちは!"
// friendlyWelcome は "Bonjour!" になりました。
```

変数と異なり、定数の値は設定後に変更できません。これを行おうとすると、コードのコンパイル時にエラーとして報告されます。

```
let languageName = "Swift"
languageName = "Swift++"
// これはコンパイルエラーとなります。languageName は変更できません。
```

### 定数と変数を出力する

定数または変数の現在の値を出力するには、`print(_:separator:terminator:)` 関数を使用します。

```
print(friendlyWelcome)
//「Bonjour!」と出力します
```

`print(_:separator:terminator:)` 関数は、1つまたは複数の値を適切な出力先に出力するグローバル関数です。たとえば Xcode では、 `print(_:separator:terminator:)` 関数はその出力を Xcode のコンソール表示領域に出力します。`separator` および `terminator` パラメーターにはデフォルト値があるため、この関数を呼び出すときに省略可能です。デフォルトでは、出力する行の最後に改行を付加します。改行なしで値を出力するには、`print(someValue, terminator: "")` のように、終端文字として空の文字列を渡します。デフォルト値のあるパラメーターについては、デフォルトのパラメーター値を参照してください。

Swift では文字列補間を使用して、文字列中に定数または変数の現在値を挿入できます。名前を括弧で囲み、開き括弧の前にバックスラッシュ (\\) でエスケープします。

```
print("friendlyWelcomeの現在の値は\(friendlyWelcome)です。"）
//「friendlyWelcomeの現在の値はBonjour!です。」と出力します。
```

> ポイント
>
> 文字列補間で使用できるすべてのオプションについては、[文字列補間]() の項で説明しています。

## コメント

自分自身へのメモまたは備忘録として、実行されないテキストをコード中にコメントとして記述できます。コードをコンパイルするとき、コメントは Swift コンパイラーによって無視されます。

Swift のコメントは、C 言語のコメントとよく似ています。単一行コメントは、2つのスラッシュ（//）で始まります。

```
// これはコメントです。
```

複数行コメントは、スラッシュとアスタリスク (/\*) で始まり、アスタリスクとスラッシュ (*/) で終わります。

```
/* これもコメントです
ただし、複数行にわたって書かれています。 */
```

C 言語の複数行コメントと違って、Swift の複数行コメントはネストして入れ子にできます。ネストされた複数行コメントを記述するには、複数行コメントを開始し、コメント内でさらに2つ目の複数行コメントを開始します。次に2つ目のコメントブロックを終了し、さらに1つ目のコメントブロックを終了します。

```
/* これは最初の複数行コメントの始まりです。
/* これは2つ目のネストされた複数行コメントです。 */
これは最初の複数行コメントの終わりです。 */
```

複数行コメントのネストができるおかげで、複数行コメントを含む大きなコードのブロックをすばやく簡単にコメントアウトできます。
